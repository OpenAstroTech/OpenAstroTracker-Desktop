<Window x:Class="OATSimulation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:hx="http://helix-toolkit.org/wpf/SharpDX"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:pt="http://propertytools.org/wpf"
        xmlns:sdx="clr-namespace:SharpDX;assembly=SharpDX.Mathematics"
        xmlns:local="clr-namespace:OATSimulation"
        mc:Ignorable="d"
        Title="{Binding Title}" Height="450" Width="800">
    <Window.Resources>
        <hx:RenderTechniqueConverter x:Key="RenderTechniqueConverter" />
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="13*"/>
            <RowDefinition Height="180*"/>
            <RowDefinition Height="35"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="78"/>
            <ColumnDefinition Width="70"/>
        </Grid.ColumnDefinitions>
        <hx:Viewport3DX
            x:Name="view"
            Title="{Binding Title}"
            Grid.Row="0"
            Grid.Column="0"
            BackgroundColor="Black"
            Camera="{Binding Camera}"
            CoordinateSystemLabelForeground="White"
            EffectsManager="{Binding EffectsManager}"
            EnableSwapChainRendering="False"
            FXAALevel="{Binding FXAA}"
            IsShadowMappingEnabled="True"
            MSAA="{Binding MSAA}"
            ShowCoordinateSystem="False"
            ShowFrameDetails="False"
            ShowFrameRate="False"
            ShowViewCube="False"
            SubTitle="{Binding SubTitle}"
            TextBrush="Black"
            UseDefaultGestures="False" Grid.ColumnSpan="3" Margin="0,0,0.333,-0.333" Grid.RowSpan="3">
            <hx:Viewport3DX.InputBindings>
                <KeyBinding Key="B" Command="hx:ViewportCommands.BackView" />
                <KeyBinding Key="F" Command="hx:ViewportCommands.FrontView" />
                <KeyBinding Key="U" Command="hx:ViewportCommands.TopView" />
                <KeyBinding Key="D" Command="hx:ViewportCommands.BottomView" />
                <KeyBinding Key="L" Command="hx:ViewportCommands.LeftView" />
                <KeyBinding Key="R" Command="hx:ViewportCommands.RightView" />
                <KeyBinding Command="hx:ViewportCommands.ZoomExtents" Gesture="Control+E" />
                <MouseBinding Command="hx:ViewportCommands.Rotate" Gesture="RightClick" />
                <MouseBinding Command="hx:ViewportCommands.Zoom" Gesture="MiddleClick" />
                <MouseBinding Command="hx:ViewportCommands.Pan" Gesture="LeftClick" />
            </hx:Viewport3DX.InputBindings>

            <hx:ShadowMap3D Resolution="{Binding ShadowMapResolution}" />
            <hx:AmbientLight3D Color="{Binding AmbientLightColor}" />

            <hx:PointLight3D
                IsRendering="{Binding RenderAnimatedLight}"
                Transform="{Binding AnimatedLightTransform}"
                Color="{Binding AnimatedLightColor}" />

            <hx:SpotLight3D
                Attenuation="{Binding SpotlightAttenuation}"
                Direction="{Binding SpotlightDirection}"
                Range="100"
                Transform="{Binding SpotlightTransform}"
                Color="{Binding SpotlightColor}" />

            <hx:GroupModel3D>

                <hx:DynamicReflectionMap3D IsDynamicScene="True">
                    <hx:Element3DPresenter Content="{Binding GroupModel}" />
                </hx:DynamicReflectionMap3D>

                <hx:MeshGeometryModel3D
                    x:Name="floor"
                    CullMode="Back"
                    Geometry="{Binding Floor}"
                    Material="{Binding FloorMaterial}"
                    Transform="{Binding FloorTransform}" />
            </hx:GroupModel3D>
            <hx:PostEffectBloom x:Name="bloom" />
            <!--<hx:LineGeometryModel3D Geometry="{Binding CubeEdges}" Color="{x:Static SharpDX:Color.Red}" Thickness="4"/>-->
        </hx:Viewport3DX>

        <StackPanel Grid.Column="1" Height="100" Margin="0.667,10,10.333,0" VerticalAlignment="Top" Grid.Row="1">
            <TextBlock Text="RA" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="DEC" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="RA Stepper" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="DEC Stepper" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="TRK Stepper" Foreground="White" Grid.RowSpan="2"/>

        </StackPanel>

        <StackPanel Grid.Column="2" Height="100" Margin="0.667,10,10.333,0" VerticalAlignment="Top" Grid.Row="1">
            <TextBlock Text="{Binding RAAngle, StringFormat={}{0:00}}" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="{Binding DECAngle, StringFormat={}{0:00}}" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="{Binding RAStepper, StringFormat={}{0:00}}" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="{Binding DECStepper, StringFormat={}{0:00}}" Foreground="White" Grid.RowSpan="2"/>
            <TextBlock Text="{Binding TRKStepper, StringFormat={}{0:00}}" Foreground="White" Grid.RowSpan="2"/>
        </StackPanel>
        <Label x:Name="label" Content="{Binding Status}" HorizontalAlignment="Left" Margin="0,0,0,-0.333" Grid.Row="2" Width="118" Foreground="White" Height="26" VerticalAlignment="Bottom"/>
        <Label x:Name="version" Content="{Binding Version}" HorizontalContentAlignment="Right"  Margin="0,9,0.333,-0.333" Grid.Row="2" VerticalAlignment="Top" Height="26" Width="131" Foreground="White" Grid.ColumnSpan="2" Grid.Column="1" HorizontalAlignment="Right"/>
    </Grid>
    <!--
    <Grid>
        <hx:Viewport3DX
            x:Name="view"
            Grid.Row="1"
            Background="Black"
            BackgroundColor="Black"
            Camera="{Binding Camera}"
            ShowViewCube="False"
            CoordinateSystemLabelForeground="White"
            EnableDesignModeRendering="False"
            EffectsManager="{Binding EffectsManager}"
            Title="{Binding Title}"

            EnableSwapChainRendering="True"
            FXAALevel="Medium"
            IsShadowMappingEnabled="True"
            ShowCoordinateSystem="False"
            ShowFrameDetails="False"
            >
            <hx:Viewport3DX.InputBindings>
                <KeyBinding Command="hx:ViewportCommands.ZoomExtents" Key="F" />
                <MouseBinding Command="hx:ViewportCommands.Rotate" Gesture="RightClick" />
                <MouseBinding Command="hx:ViewportCommands.Zoom" Gesture="MiddleClick" />
                <MouseBinding Command="hx:ViewportCommands.Pan" Gesture="LeftClick" />
            </hx:Viewport3DX.InputBindings>
            

            <hx:EnvironmentMap3D IsRendering="{Binding RenderEnvironmentMap}" Texture="{Binding EnvironmentMap}" />
            
            <hx:DynamicReflectionMap3D>
                <hx:Element3DPresenter Content="{Binding GroupModel}" />
            </hx:DynamicReflectionMap3D>

            

            <hx:SpotLight3D
                x:Name="spotLight"
                Direction="{Binding Camera.LookDirection, Mode=OneWay}"
                OuterAngle="{Binding Camera.FieldOfView}"
                Position="{Binding Camera.Position, Mode=OneWay}"
                Range="{Binding Camera.FarPlaneDistance}"
                Color="#DEDEDE" />

        </hx:Viewport3DX>
        <Label x:Name="label" Content="{Binding RAAngle}" Margin="0,10,10.333,0" Foreground="White" HorizontalAlignment="Right" Width="38" Height="10" VerticalAlignment="Top"/>

    </Grid>
    -->
</Window>
